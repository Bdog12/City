[gd_scene load_steps=46 format=3 uid="uid://56c2u7lelald"]

[ext_resource type="Script" path="res://platformer_controller/platformer_controller.gd" id="1_ywpf8"]
[ext_resource type="Texture2D" uid="uid://b37wa67be2kr8" path="res://Images/player1.png" id="2_qg8gb"]
[ext_resource type="Script" path="res://code/AnimatedSprite2D.gd" id="3_nvtev"]
[ext_resource type="Script" path="res://SENCES/IteamManger.gd" id="5_yd3if"]

[sub_resource type="AtlasTexture" id="AtlasTexture_06vqf"]
atlas = ExtResource("2_qg8gb")
region = Rect2(0, 33, 32, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_hgn5j"]
atlas = ExtResource("2_qg8gb")
region = Rect2(32, 33, 32, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_f8023"]
atlas = ExtResource("2_qg8gb")
region = Rect2(64, 33, 32, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_28fhy"]
atlas = ExtResource("2_qg8gb")
region = Rect2(96, 33, 32, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_atjm4"]
atlas = ExtResource("2_qg8gb")
region = Rect2(128, 33, 32, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_4mxar"]
atlas = ExtResource("2_qg8gb")
region = Rect2(160, 33, 32, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_a1jic"]
atlas = ExtResource("2_qg8gb")
region = Rect2(192, 33, 32, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_tl6qv"]
atlas = ExtResource("2_qg8gb")
region = Rect2(224, 33, 32, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_674lg"]
atlas = ExtResource("2_qg8gb")
region = Rect2(256, 33, 32, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_488u6"]
atlas = ExtResource("2_qg8gb")
region = Rect2(288, 33, 32, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_hab3x"]
atlas = ExtResource("2_qg8gb")
region = Rect2(320, 33, 32, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_iu1ay"]
atlas = ExtResource("2_qg8gb")
region = Rect2(352, 33, 32, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_attc5"]
atlas = ExtResource("2_qg8gb")
region = Rect2(0, 66, 32, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_gv6hx"]
atlas = ExtResource("2_qg8gb")
region = Rect2(32, 66, 32, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_e43hx"]
atlas = ExtResource("2_qg8gb")
region = Rect2(64, 66, 32, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_df03e"]
atlas = ExtResource("2_qg8gb")
region = Rect2(96, 66, 32, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_68j6k"]
atlas = ExtResource("2_qg8gb")
region = Rect2(128, 66, 32, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_gio37"]
atlas = ExtResource("2_qg8gb")
region = Rect2(0, 0, 32, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_roc3j"]
atlas = ExtResource("2_qg8gb")
region = Rect2(32, 0, 32, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_0vinw"]
atlas = ExtResource("2_qg8gb")
region = Rect2(256, 0, 32, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_2gu4i"]
atlas = ExtResource("2_qg8gb")
region = Rect2(96, 0, 32, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_4kgvf"]
atlas = ExtResource("2_qg8gb")
region = Rect2(224, 0, 32, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_pheyl"]
atlas = ExtResource("2_qg8gb")
region = Rect2(192, 0, 32, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_espxt"]
atlas = ExtResource("2_qg8gb")
region = Rect2(64, 0, 32, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_x2ttr"]
atlas = ExtResource("2_qg8gb")
region = Rect2(128, 0, 32, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_2cl7e"]
atlas = ExtResource("2_qg8gb")
region = Rect2(160, 0, 32, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_swiy6"]
atlas = ExtResource("2_qg8gb")
region = Rect2(288, 0, 32, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_i7cjr"]
atlas = ExtResource("2_qg8gb")
region = Rect2(320, 0, 32, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_mi68v"]
atlas = ExtResource("2_qg8gb")
region = Rect2(352, 0, 32, 33)

[sub_resource type="SpriteFrames" id="SpriteFrames_1bwh8"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_06vqf")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hgn5j")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_f8023")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_28fhy")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_atjm4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4mxar")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_a1jic")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tl6qv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_674lg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_488u6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hab3x")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_iu1ay")
}],
"loop": true,
"name": &"idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_attc5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gv6hx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_e43hx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_df03e")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_68j6k")
}],
"loop": false,
"name": &"jump",
"speed": 12.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_gio37")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_roc3j")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0vinw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2gu4i")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4kgvf")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_pheyl")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_espxt")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_x2ttr")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2cl7e")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_swiy6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_i7cjr")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mi68v")
}],
"loop": true,
"name": &"run",
"speed": 12.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_sdku6"]
size = Vector2(11, 32.5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_bdcux"]
size = Vector2(0.1, 0.1)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_cn01k"]
size = Vector2(52, 44)

[sub_resource type="Animation" id="Animation_ppiom"]
resource_name = "JumpStart"
length = 0.27
step = 0.05
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"jump"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": [0, 1, 2]
}

[sub_resource type="Animation" id="Animation_1vpbh"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"run"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("AnimatedSprite2D:sprite_frames")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [SubResource("SpriteFrames_1bwh8")]
}

[sub_resource type="Animation" id="Animation_sjgev"]
resource_name = "hitGround"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"jump"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [4]
}

[sub_resource type="Animation" id="Animation_rrkic"]
resource_name = "idle"
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"idle"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("AnimatedSprite2D:sprite_frames")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [SubResource("SpriteFrames_1bwh8")]
}

[sub_resource type="Animation" id="Animation_kloc0"]
resource_name = "jumpfall"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"jump"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [3]
}

[sub_resource type="Animation" id="Animation_j4swm"]
resource_name = "run"
length = 1.16
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"run"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_l72s5"]
_data = {
"JumpStart": SubResource("Animation_ppiom"),
"RESET": SubResource("Animation_1vpbh"),
"hitGround": SubResource("Animation_sjgev"),
"idle": SubResource("Animation_rrkic"),
"jumpfall": SubResource("Animation_kloc0"),
"run": SubResource("Animation_j4swm")
}

[sub_resource type="RectangleShape2D" id="RectangleShape2D_o2tb3"]
size = Vector2(20, 32)

[node name="Node2D" type="CharacterBody2D"]
collision_layer = 3
collision_mask = 3
script = ExtResource("1_ywpf8")
input_left = "left"
input_right = "right"
input_jump = "space"
max_jump_height = 80.0
min_jump_height = 20.0
double_jump_height = 80.0
jump_duration = 0.6
falling_gravity_multiplier = 3.0
max_acceleration = 4000
friction = 30
can_hold_jump = true

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
sprite_frames = SubResource("SpriteFrames_1bwh8")
animation = &"run"
script = ExtResource("3_nvtev")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(-1.5, -0.25)
shape = SubResource("RectangleShape2D_sdku6")

[node name="CamareHitBox" type="Area2D" parent="."]
collision_layer = 0
collision_mask = 128

[node name="CollisionShape2D" type="CollisionShape2D" parent="CamareHitBox"]
shape = SubResource("RectangleShape2D_bdcux")

[node name="CloseInteract" type="Area2D" parent="."]
collision_layer = 4
collision_mask = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="CloseInteract"]
position = Vector2(1, -5)
shape = SubResource("RectangleShape2D_cn01k")
debug_color = Color(0.831373, 0.25098, 0.752941, 0.419608)

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_l72s5")
}

[node name="leftwall" type="RayCast2D" parent="."]
visible = false
position = Vector2(0, -9)
target_position = Vector2(-11, 0)

[node name="rightWall" type="RayCast2D" parent="."]
visible = false
position = Vector2(0, -9)
target_position = Vector2(9, 0)

[node name="stamina" type="Timer" parent="."]
one_shot = true

[node name="Control" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0

[node name="Label" type="Label" parent="Control"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 23.0

[node name="ItemManger" type="Node2D" parent="."]
script = ExtResource("5_yd3if")

[node name="pickuprange" type="Area2D" parent="."]
collision_layer = 8
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="pickuprange"]
position = Vector2(-1, 0)
shape = SubResource("RectangleShape2D_o2tb3")

[connection signal="area_entered" from="CamareHitBox" to="." method="_on_area_2d_area_entered"]
[connection signal="area_exited" from="CamareHitBox" to="." method="_on_camare_hit_box_area_exited"]
[connection signal="timeout" from="stamina" to="." method="_on_stamina_timeout"]
