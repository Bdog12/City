[gd_scene load_steps=45 format=3 uid="uid://56c2u7lelald"]

[ext_resource type="Script" path="res://platformer_controller/platformer_controller.gd" id="1_ywpf8"]
[ext_resource type="Texture2D" uid="uid://b37wa67be2kr8" path="res://Images/player1.png" id="2_qg8gb"]
[ext_resource type="Script" path="res://code/AnimatedSprite2D.gd" id="3_nvtev"]
[ext_resource type="Script" path="res://MoneyManger.gd" id="4_htxpm"]

[sub_resource type="AtlasTexture" id="AtlasTexture_2kadk"]
atlas = ExtResource("2_qg8gb")
region = Rect2(0, 33, 28, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_whe26"]
atlas = ExtResource("2_qg8gb")
region = Rect2(28, 33, 28, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_fpo38"]
atlas = ExtResource("2_qg8gb")
region = Rect2(56, 33, 28, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_j3uvy"]
atlas = ExtResource("2_qg8gb")
region = Rect2(84, 33, 28, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_mjgui"]
atlas = ExtResource("2_qg8gb")
region = Rect2(112, 33, 28, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_j5a4a"]
atlas = ExtResource("2_qg8gb")
region = Rect2(140, 33, 28, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_eiy46"]
atlas = ExtResource("2_qg8gb")
region = Rect2(168, 33, 28, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_mkiee"]
atlas = ExtResource("2_qg8gb")
region = Rect2(196, 33, 28, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_gm6cj"]
atlas = ExtResource("2_qg8gb")
region = Rect2(224, 33, 28, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_wxvjd"]
atlas = ExtResource("2_qg8gb")
region = Rect2(252, 33, 28, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_dkxno"]
atlas = ExtResource("2_qg8gb")
region = Rect2(280, 33, 28, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_t4mu4"]
atlas = ExtResource("2_qg8gb")
region = Rect2(308, 33, 28, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_yvesr"]
atlas = ExtResource("2_qg8gb")
region = Rect2(0, 66, 28, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_4hm00"]
atlas = ExtResource("2_qg8gb")
region = Rect2(28, 66, 28, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_plnvu"]
atlas = ExtResource("2_qg8gb")
region = Rect2(56, 66, 28, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_u7458"]
atlas = ExtResource("2_qg8gb")
region = Rect2(84, 66, 28, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_rgb5c"]
atlas = ExtResource("2_qg8gb")
region = Rect2(112, 66, 28, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_rvxtr"]
atlas = ExtResource("2_qg8gb")
region = Rect2(0, 0, 28, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_cjjtc"]
atlas = ExtResource("2_qg8gb")
region = Rect2(28, 0, 28, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_cipaq"]
atlas = ExtResource("2_qg8gb")
region = Rect2(56, 0, 28, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_y0286"]
atlas = ExtResource("2_qg8gb")
region = Rect2(84, 0, 28, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_lyuxe"]
atlas = ExtResource("2_qg8gb")
region = Rect2(112, 0, 28, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_xexfi"]
atlas = ExtResource("2_qg8gb")
region = Rect2(140, 0, 28, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_7f6ca"]
atlas = ExtResource("2_qg8gb")
region = Rect2(168, 0, 28, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_6s0cq"]
atlas = ExtResource("2_qg8gb")
region = Rect2(196, 0, 28, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_0liwo"]
atlas = ExtResource("2_qg8gb")
region = Rect2(224, 0, 28, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_qy6o8"]
atlas = ExtResource("2_qg8gb")
region = Rect2(252, 0, 28, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_wep04"]
atlas = ExtResource("2_qg8gb")
region = Rect2(280, 0, 28, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_i664g"]
atlas = ExtResource("2_qg8gb")
region = Rect2(308, 0, 28, 33)

[sub_resource type="SpriteFrames" id="SpriteFrames_1bwh8"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_2kadk")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_whe26")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fpo38")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_j3uvy")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mjgui")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_j5a4a")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_eiy46")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mkiee")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gm6cj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wxvjd")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dkxno")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_t4mu4")
}],
"loop": true,
"name": &"idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_yvesr")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4hm00")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_plnvu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_u7458")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rgb5c")
}],
"loop": false,
"name": &"jump",
"speed": 12.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_rvxtr")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_cjjtc")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_cipaq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_y0286")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lyuxe")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_xexfi")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7f6ca")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6s0cq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0liwo")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qy6o8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wep04")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_i664g")
}],
"loop": true,
"name": &"run",
"speed": 12.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_sdku6"]
size = Vector2(11, 32.5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_bdcux"]
size = Vector2(0.1, 0.1)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_cn01k"]
size = Vector2(52, 44)

[sub_resource type="Animation" id="Animation_ppiom"]
resource_name = "JumpStart"
length = 0.27
step = 0.05
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"jump"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": [0, 1, 2]
}

[sub_resource type="Animation" id="Animation_1vpbh"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"run"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("AnimatedSprite2D:sprite_frames")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [SubResource("SpriteFrames_1bwh8")]
}

[sub_resource type="Animation" id="Animation_sjgev"]
resource_name = "hitGround"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"jump"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [4]
}

[sub_resource type="Animation" id="Animation_rrkic"]
resource_name = "idle"
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"idle"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("AnimatedSprite2D:sprite_frames")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [SubResource("SpriteFrames_1bwh8")]
}

[sub_resource type="Animation" id="Animation_kloc0"]
resource_name = "jumpfall"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"jump"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [3]
}

[sub_resource type="Animation" id="Animation_j4swm"]
resource_name = "run"
length = 1.16
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"run"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_l72s5"]
_data = {
"JumpStart": SubResource("Animation_ppiom"),
"RESET": SubResource("Animation_1vpbh"),
"hitGround": SubResource("Animation_sjgev"),
"idle": SubResource("Animation_rrkic"),
"jumpfall": SubResource("Animation_kloc0"),
"run": SubResource("Animation_j4swm")
}

[node name="Node2D" type="CharacterBody2D"]
collision_layer = 3
collision_mask = 3
script = ExtResource("1_ywpf8")
input_left = "left"
input_right = "right"
input_jump = "space"
max_jump_height = 80.0
min_jump_height = 20.0
double_jump_height = 80.0
jump_duration = 0.6
falling_gravity_multiplier = 3.0
max_acceleration = 4000
friction = 30
can_hold_jump = true

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
sprite_frames = SubResource("SpriteFrames_1bwh8")
animation = &"run"
script = ExtResource("3_nvtev")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(-1.5, -0.25)
shape = SubResource("RectangleShape2D_sdku6")

[node name="CamareHitBox" type="Area2D" parent="."]
collision_layer = 0
collision_mask = 128

[node name="CollisionShape2D" type="CollisionShape2D" parent="CamareHitBox"]
shape = SubResource("RectangleShape2D_bdcux")

[node name="CloseInteract" type="Area2D" parent="."]
collision_layer = 4
collision_mask = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="CloseInteract"]
position = Vector2(1, -5)
shape = SubResource("RectangleShape2D_cn01k")
debug_color = Color(0.831373, 0.25098, 0.752941, 0.419608)

[node name="MoneyManger" type="Node2D" parent="."]
visible = false
script = ExtResource("4_htxpm")
totalmoney = 20

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_l72s5")
}

[node name="leftwall" type="RayCast2D" parent="."]
visible = false
position = Vector2(0, -9)
target_position = Vector2(-11, 0)

[node name="rightWall" type="RayCast2D" parent="."]
visible = false
position = Vector2(0, -9)
target_position = Vector2(9, 0)

[node name="stamina" type="Timer" parent="."]
one_shot = true

[node name="Control" type="Control" parent="."]
visible = false
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="Label" type="Label" parent="Control"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 23.0

[connection signal="area_entered" from="CamareHitBox" to="." method="_on_area_2d_area_entered"]
[connection signal="area_exited" from="CamareHitBox" to="." method="_on_camare_hit_box_area_exited"]
[connection signal="timeout" from="stamina" to="." method="_on_stamina_timeout"]
